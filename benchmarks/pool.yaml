# Pool.sol — medium library (~613 lines, no viaIR)
#   lsp-bench -c benchmarks/pool.yaml

project: v4-core
file: src/libraries/Pool.sol
line: 102
col: 15
output: benchmarks/pool
report: README.md

exclude:
  - textDocument/typeDefinition
  - textDocument/implementation
  - textDocument/codeLens
  - textDocument/documentColor

servers:
  - mmsaki@latest
  # - mmsaki@v0.1.25
  # - solc
  # - qiuxiang
  # - juanfranblanco
  # - nomicfoundation

methods:
  textDocument/definition:
    line: 102
    col: 15
    # TickMath — imported from ./TickMath.sol, cross-file jump

  textDocument/references:
    line: 8
    col: 8
    # TickMath — ~18 references throughout the file

  textDocument/completion:
    line: 110
    col: 13
    trigger: "."
    # self. — completion on State storage struct members (slot0, liquidity, tickBitmap, etc.)

  textDocument/hover:
    line: 145
    col: 13
    # modifyLiquidity — fully documented function with NatSpec

  textDocument/rename:
    line: 149
    col: 15
    # liquidityDelta — ~13 usages within modifyLiquidity

  textDocument/semanticTokens/range:
    startLine: 0
    startCol: 0
    line: 200
    col: 0
    # First 200 lines — imports through modifyLiquidity

  textDocument/formatting:
    didChange:
      - file: ../example/Pool.unformatted.snapshot
        line: 0
        col: 0
        # 10 extra blank lines at end — formatter should strip them

  textDocument/signatureHelp:
    line: 102
    col: 43
    # Inside TickMath.getTickAtSqrtPrice(sqrtPriceX96)

  workspace/willRenameFiles:
    renameSteps:
      - file: src/libraries/Pool.sol
        newName: Pools.sol
      - file: src/libraries/Pools.sol
        newName: Pool.sol
    # Rename Pool.sol -> Pools.sol, then rename back to original path.

  workspace/willCreateFiles:
    createSteps:
      - file: src/libraries/PoolBenchCreate.s.sol
    # Create lifecycle benchmark in v4-core/src/libraries (script template scaffold).

  workspace/willDeleteFiles:
    deleteSteps:
      - file: src/libraries/Pool.sol
    # Delete lifecycle benchmark for Pool.sol (restored after run).
